!function(e){"use strict";window.App={modules:{}},e.jps.subscribe("init-selectionphrase",function(e){App.modules.selectionPhrase.init({container:e.container,dictLookup:e.dictLookup||"selection",from:e.from})}),e.jps.subscribe("lookup-phrase",function(i){if(!i.isSamePhraseWithPrevious||!App.modules.dictLayer.isLayerShown()){e.jps.publish("hide-dict-layer");var s=chrome.extension.connect({name:"lookup-phrase"});s.postMessage({phrase:i.phrase,position:i.position,from:i.from})}}),e.jps.subscribe("check-words",function(e){var i=chrome.extension.connect({name:"check-words"});i.postMessage({words:e.words})}),e.jps.subscribe("init-dict-layer",function(e){App.modules.dictLayer.init(e)}),e.jps.subscribe("init-dict-checkresult-layer",function(e){App.modules.dictCheckResultLayer.init(e)}),e.jps.subscribe("hide-dict-layer",function(){App.modules.dictLayer.hideLayer()})}(Zepto);