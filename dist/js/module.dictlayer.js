!function(a){"use strict";var e={__layerEl:null,__isEntered:!1,init:function(e){var r=this;r.__hideLayer(),r.__layerEl=a(r.getLayerStr(e.dictData)),r.__layerEl.appendTo(document.body);var t=r.__layerEl.height(),n=r.__layerEl.width(),i=e.position,s=i.top+20;i.top+t>window.innerHeight&&(s=i.top-t,r.__layerEl.find(".jz-arrow").appendTo(r.__layerEl),r.__layerEl.addClass("jz-dict-layer-bottom"));var o=Math.max((i.right+i.left-n)/2,0);"relative"===a(document.body).css("position")&&(o-=(window.innerWidth-a(document.body).width())/2),r.__layerEl.css({left:o+document.body.scrollLeft,top:s+document.body.scrollTop}),r.__layerEl.mouseup(function(a){a.stopPropagation()}),e.hover&&(r.__layerEl.mouseenter(function(){r.__isEntered=!0}),r.__layerEl.mouseleave(function(){r.__isEntered=!1,r.__hideLayer()})),a(document).mouseup(function(){r.__hideLayer()}),r.__layerEl.addClass("jz-opacity-ani")},hideLayer:function(){var a=this;setTimeout(function(){a.__isEntered||a.__hideLayer()},0)},__hideLayer:function(){var a=this;a.__layerEl&&a.__layerEl.remove(),a.__layerEl=null},isLayerShown:function(){return this.__layerEl},getLayerStr:function(a){var e="";a.phoneticSymbol&&a.phoneticSymbol.split(", ").forEach(function(a){e+='<span class="jz-phonetic-symbol">['+a+"]</span>"});var t="";a.translation&&a.translation.forEach(function(a){t+='<div class="jz-phrase-tran">'+a+"</div>"});var n="";a.hasMore&&(n+='<div class="jz-trans-moreitems"><div class="jz-trans-more"></div>',a.moreTranslatioin.forEach(function(a){n+='<div class="jz-phrase-tran"><span class="jz-phrase-key">'+a.key+': </span><span class="jz-phrase-value">'+a.value+"</span></div>"}));var i=r.replace(/{{phrase}}/,a.phrase).replace(/{{phoneticSymbol}}/,e).replace(/{{translation}}/,t).replace(/{{moreTranslation}}/,n);return i}},r='<div class="jz-mod-dict-layer">   <div class="jz-arrow">       <div class="jz-arrow-shadow"></div>   </div>   <div class="jz-layer-content">       <div class="jz-layer-content-wrap">           <div class="jz-phrase-wrap">               <span class="jz-phrase">{{phrase}}</span>               {{phoneticSymbol}}           </div>           <div class="jz-trans-items">           {{translation}}           </div>           {{moreTranslation}}       </div>   </div></div>';App.modules.dictLayer=e}(Zepto);